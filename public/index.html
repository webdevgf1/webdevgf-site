<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Model Viewer Camera Debug</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@google/model-viewer@3.3.0/dist/model-viewer.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #0f1116;
            color: white;
            margin: 0;
            padding: 20px;
        }

        .debug-container {
            display: flex;
            gap: 20px;
            height: 90vh;
        }

        .model-container {
            flex: 2;
            background: rgba(0,0,0,0.7);
            border-radius: 10px;
            position: relative;
        }

        model-viewer {
            width: 100%;
            height: 100%;
            background-color: transparent;
        }

        .debug-panel {
            flex: 1;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            overflow-y: auto;
        }

        .control-group {
            margin-bottom: 20px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 8px;
        }

        .control-group h3 {
            margin: 0 0 10px 0;
            color: #00f2fe;
        }

        .slider-container {
            margin: 10px 0;
        }

        .slider-container label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .slider {
            width: 100%;
            margin-bottom: 10px;
        }

        .value-display {
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .preset-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }

        .preset-btn {
            background: linear-gradient(45deg, #00f2fe, #4facfe);
            border: none;
            padding: 8px 12px;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .preset-btn:hover {
            opacity: 0.8;
        }

        .copy-btn {
            background: linear-gradient(45deg, #ff4b4b, #ff6b6b);
            border: none;
            padding: 10px 20px;
            color: white;
            border-radius: 5px;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }

        .copy-btn:hover {
            opacity: 0.8;
        }

        .output-code {
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 11px;
            white-space: pre-wrap;
            word-wrap: break-word;
            max-height: 200px;
            overflow-y: auto;
            border: 1px solid rgba(255,255,255,0.1);
        }
    </style>
</head>
<body>
    <div class="debug-container">
        <div class="model-container">
            <model-viewer
                id="debugViewer"
                src="https://raw.githubusercontent.com/webdevgf1/webdevgf-site/main/amy.glb"
                animation-name="idle"
                autoplay
                camera-target="0m 1.2m 0m"
                camera-orbit="0deg 75deg 2.5m"
                field-of-view="40deg"
                environment-image="neutral"
                exposure="2"
                disable-zoom="false"
                disable-pan="false"
                interaction-policy="always-allow"
                auto-rotate="false">
            </model-viewer>
        </div>

        <div class="debug-panel">
            <h2>Camera Debug Controls</h2>
            
            <div class="value-display" id="currentValues">
                Loading...
            </div>

            <div class="control-group">
                <h3>Camera Target (X, Y, Z)</h3>
                <div class="slider-container">
                    <label>Target X: <span id="targetXVal">0</span>m</label>
                    <input type="range" class="slider" id="targetX" min="-5" max="5" step="0.1" value="0">
                </div>
                <div class="slider-container">
                    <label>Target Y: <span id="targetYVal">1.2</span>m</label>
                    <input type="range" class="slider" id="targetY" min="-2" max="4" step="0.1" value="1.2">
                </div>
                <div class="slider-container">
                    <label>Target Z: <span id="targetZVal">0</span>m</label>
                    <input type="range" class="slider" id="targetZ" min="-5" max="5" step="0.1" value="0">
                </div>
            </div>

            <div class="control-group">
                <h3>Camera Orbit</h3>
                <div class="slider-container">
                    <label>Horizontal: <span id="orbitHVal">0</span>°</label>
                    <input type="range" class="slider" id="orbitH" min="-180" max="180" step="5" value="0">
                </div>
                <div class="slider-container">
                    <label>Vertical: <span id="orbitVVal">75</span>°</label>
                    <input type="range" class="slider" id="orbitV" min="0" max="180" step="5" value="75">
                </div>
                <div class="slider-container">
                    <label>Distance: <span id="orbitDVal">2.5</span>m</label>
                    <input type="range" class="slider" id="orbitD" min="0.5" max="10" step="0.1" value="2.5">
                </div>
            </div>

            <div class="control-group">
                <h3>Field of View</h3>
                <div class="slider-container">
                    <label>FOV: <span id="fovVal">40</span>°</label>
                    <input type="range" class="slider" id="fov" min="10" max="120" step="1" value="40">
                </div>
            </div>

            <div class="control-group">
                <h3>Quick Presets</h3>
                <div class="preset-buttons">
                    <button class="preset-btn" onclick="applyPreset('close')">Close Up</button>
                    <button class="preset-btn" onclick="applyPreset('medium')">Medium</button>
                    <button class="preset-btn" onclick="applyPreset('wide')">Wide Shot</button>
                    <button class="preset-btn" onclick="applyPreset('webcam')">Webcam</button>
                </div>
            </div>

            <div class="control-group">
                <h3>Generated Code</h3>
                <div class="output-code" id="outputCode"></div>
                <button class="copy-btn" onclick="copyCode()">Copy Code</button>
            </div>
        </div>
    </div>

    <script>
        const viewer = document.getElementById('debugViewer');
        const currentValues = document.getElementById('currentValues');
        const outputCode = document.getElementById('outputCode');

        // Slider elements
        const targetX = document.getElementById('targetX');
        const targetY = document.getElementById('targetY');
        const targetZ = document.getElementById('targetZ');
        const orbitH = document.getElementById('orbitH');
        const orbitV = document.getElementById('orbitV');
        const orbitD = document.getElementById('orbitD');
        const fov = document.getElementById('fov');

        // Value display elements
        const targetXVal = document.getElementById('targetXVal');
        const targetYVal = document.getElementById('targetYVal');
        const targetZVal = document.getElementById('targetZVal');
        const orbitHVal = document.getElementById('orbitHVal');
        const orbitVVal = document.getElementById('orbitVVal');
        const orbitDVal = document.getElementById('orbitDVal');
        const fovVal = document.getElementById('fovVal');

        function updateCamera() {
            const targetXValue = parseFloat(targetX.value);
            const targetYValue = parseFloat(targetY.value);
            const targetZValue = parseFloat(targetZ.value);
            const orbitHValue = parseFloat(orbitH.value);
            const orbitVValue = parseFloat(orbitV.value);
            const orbitDValue = parseFloat(orbitD.value);
            const fovValue = parseFloat(fov.value);

            // Update viewer
            viewer.cameraTarget = `${targetXValue}m ${targetYValue}m ${targetZValue}m`;
            viewer.cameraOrbit = `${orbitHValue}deg ${orbitVValue}deg ${orbitDValue}m`;
            viewer.fieldOfView = `${fovValue}deg`;

            // Update displays
            targetXVal.textContent = targetXValue;
            targetYVal.textContent = targetYValue;
            targetZVal.textContent = targetZValue;
            orbitHVal.textContent = orbitHValue;
            orbitVVal.textContent = orbitVValue;
            orbitDVal.textContent = orbitDValue;
            fovVal.textContent = fovValue;

            // Update current values display
            currentValues.innerHTML = `
Camera Target: ${targetXValue}m ${targetYValue}m ${targetZValue}m
Camera Orbit: ${orbitHValue}° ${orbitVValue}° ${orbitDValue}m
Field of View: ${fovValue}°
            `;

            // Generate code
            generateCode();
        }

        function generateCode() {
            const targetXValue = parseFloat(targetX.value);
            const targetYValue = parseFloat(targetY.value);
            const targetZValue = parseFloat(targetZ.value);
            const orbitHValue = parseFloat(orbitH.value);
            const orbitVValue = parseFloat(orbitV.value);
            const orbitDValue = parseFloat(orbitD.value);
            const fovValue = parseFloat(fov.value);

            const htmlCode = `<model-viewer
    id="characterViewer"
    src="https://raw.githubusercontent.com/webdevgf1/webdevgf-site/main/amy.glb"
    animation-name="idle"
    autoplay
    camera-target="${targetXValue}m ${targetYValue}m ${targetZValue}m"
    camera-orbit="${orbitHValue}deg ${orbitVValue}deg ${orbitDValue}m"
    field-of-view="${fovValue}deg"
    environment-image="neutral"
    exposure="2"
    disable-zoom="true"
    disable-pan="true"
    interaction-policy="none">
</model-viewer>`;

            const jsCode = `viewer.addEventListener('load', () => {
    viewer.cameraOrbit = "${orbitHValue}deg ${orbitVValue}deg ${orbitDValue}m";
    viewer.cameraTarget = "${targetXValue}m ${targetYValue}m ${targetZValue}m";
    viewer.fieldOfView = "${fovValue}deg";
    // ... rest of your code
});`;

            outputCode.textContent = `HTML:\n${htmlCode}\n\nJavaScript:\n${jsCode}`;
        }

        function applyPreset(preset) {
            switch(preset) {
                case 'close':
                    setValues(0, 0.8, 0, 0, 85, 1.5, 30);
                    break;
                case 'medium':
                    setValues(0, 1.0, 0, 0, 75, 2.5, 40);
                    break;
                case 'wide':
                    setValues(0, 1.2, 0, 0, 70, 4, 60);
                    break;
                case 'webcam':
                    setValues(0, 0.6, 0, 0, 80, 2, 35);
                    break;
            }
        }

        function setValues(tx, ty, tz, oh, ov, od, f) {
            targetX.value = tx;
            targetY.value = ty;
            targetZ.value = tz;
            orbitH.value = oh;
            orbitV.value = ov;
            orbitD.value = od;
            fov.value = f;
            updateCamera();
        }

        function copyCode() {
            navigator.clipboard.writeText(outputCode.textContent);
            const btn = event.target;
            const originalText = btn.textContent;
            btn.textContent = 'Copied!';
            setTimeout(() => btn.textContent = originalText, 2000);
        }

        // Add event listeners
        [targetX, targetY, targetZ, orbitH, orbitV, orbitD, fov].forEach(slider => {
            slider.addEventListener('input', updateCamera);
        });

        // Initialize
        viewer.addEventListener('load', () => {
            updateCamera();
        });
    </script>
</body>
</html>
